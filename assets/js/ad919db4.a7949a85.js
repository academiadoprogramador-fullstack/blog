"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1399],{3508:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"Cronograma das Aulas/Semana 11/Aula 52/ViewModels do ASP.NET MVC","title":"ViewModels do ASP.NET MVC","description":"Introdu\xe7\xe3o","source":"@site/docs/Cronograma das Aulas/Semana 11/Aula 52/01. ViewModels do ASP.NET MVC.mdx","sourceDirName":"Cronograma das Aulas/Semana 11/Aula 52","slug":"/Cronograma das Aulas/Semana 11/Aula 52/ViewModels do ASP.NET MVC","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 52/ViewModels do ASP.NET MVC","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Views do ASP.NET MVC","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 51/Views do ASP.NET MVC"},"next":{"title":"M\xe9todos de Extens\xe3o do C-sharp","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 52/M\xe9todos de Extens\xe3o do C-sharp"}}');var s=o(4848),d=o(8453);const a={},i=void 0,l={},t=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"O que \xe9 um <strong>Model</strong>?",id:"o-que-\xe9-um-model",level:2},{value:"Caracter\xedsticas",id:"caracter\xedsticas",level:3},{value:"Exemplo",id:"exemplo",level:3},{value:"O que \xe9 um <strong>ViewModel</strong>?",id:"o-que-\xe9-um-viewmodel",level:2},{value:"Caracter\xedsticas",id:"caracter\xedsticas-1",level:3},{value:"Exemplo",id:"exemplo-1",level:3},{value:"Por que separar <strong>Model</strong> e <strong>ViewModel</strong>?",id:"por-que-separar-model-e-viewmodel",level:2},{value:"Exemplo pr\xe1tico no ASP.NET MVC",id:"exemplo-pr\xe1tico-no-aspnet-mvc",level:2}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,s.jsxs)(n.p,{children:["Antes de falar de ",(0,s.jsx)(n.strong,{children:"Models"})," e ",(0,s.jsx)(n.strong,{children:"ViewModels"}),", \xe9 importante lembrar o que \xe9 ",(0,s.jsx)(n.strong,{children:"MVC"}),":"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Componente"}),(0,s.jsx)(n.th,{children:"Responsabilidade"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Model"})}),(0,s.jsx)(n.td,{children:"Representa os dados e as regras de neg\xf3cio."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"View"})}),(0,s.jsx)(n.td,{children:"Exibe as informa\xe7\xf5es ao usu\xe1rio (interface)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Controller"})}),(0,s.jsx)(n.td,{children:"Faz a ponte entre View e Model, processa requisi\xe7\xf5es."})]})]})]}),"\n",(0,s.jsxs)(n.h2,{id:"o-que-\xe9-um-model",children:["O que \xe9 um ",(0,s.jsx)(n.strong,{children:"Model"}),"?"]}),"\n",(0,s.jsxs)(n.p,{children:["Um ",(0,s.jsx)(n.strong,{children:"Model"})," \xe9 uma ",(0,s.jsx)(n.strong,{children:"classe que representa uma entidade do dom\xednio da aplica\xe7\xe3o"}),', ou seja, o "mundo real" que a aplica\xe7\xe3o est\xe1 modelando.']}),"\n",(0,s.jsx)(n.h3,{id:"caracter\xedsticas",children:"Caracter\xedsticas"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Representa tabelas do banco de dados."}),"\n",(0,s.jsx)(n.li,{children:"Cont\xe9m regras de neg\xf3cio ou valida\xe7\xe3o."}),"\n",(0,s.jsx)(n.li,{children:"Cont\xe9m apenas os dados essenciais (normalmente reflete a estrutura do banco de dados)."}),"\n",(0,s.jsxs)(n.li,{children:["Usado por ",(0,s.jsx)(n.strong,{children:"camadas de servi\xe7o, reposit\xf3rios e controllers"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"exemplo",children:"Exemplo"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:'public class Produto : EntidadeBase<Produto>\n{\n    public int Id { get; set; }\n    public string Nome { get; set; }\n    public decimal Preco { get; set; }\n\n    public List<string> Validar()\n    {\n        var erros = new List<string>();\n        \n        if (string.IsNullOrWhiteSpace(Nome))\n            erros.Add("Nome \xe9 obrigat\xf3rio.");\n            \n        if (Preco <= 0)\n            erros.Add("Pre\xe7o deve ser maior que zero.");\n            \n        return erros;\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.h2,{id:"o-que-\xe9-um-viewmodel",children:["O que \xe9 um ",(0,s.jsx)(n.strong,{children:"ViewModel"}),"?"]}),"\n",(0,s.jsxs)(n.p,{children:["Um ",(0,s.jsx)(n.strong,{children:"ViewModel"})," \xe9 uma ",(0,s.jsx)(n.strong,{children:"classe feita para servir a View (interface), adaptando ou combinando informa\xe7\xf5es dos Models"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"caracter\xedsticas-1",children:"Caracter\xedsticas"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"N\xe3o representa uma entidade do dom\xednio diretamente."}),"\n",(0,s.jsx)(n.li,{children:"Cont\xe9m apenas os dados que a tela realmente precisa."}),"\n",(0,s.jsx)(n.li,{children:"Pode combinar dados de m\xfaltiplos Models."}),"\n",(0,s.jsx)(n.li,{children:"Pode conter valida\xe7\xf5es de interface (DataAnnotations)."}),"\n",(0,s.jsx)(n.li,{children:"Ajuda a evitar expor diretamente o Model para a View (boa pr\xe1tica de seguran\xe7a e desacoplamento)."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"exemplo-1",children:"Exemplo"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:'public class ProdutoViewModel\n{\n    public string Nome { get; set; }\n\n    [Display(Name = "Pre\xe7o (R$)")]\n    [Range(0.01, double.MaxValue, ErrorMessage = "Pre\xe7o deve ser maior que zero.")]\n    public decimal Preco { get; set; }\n\n\t// dado adicional vindo de outra entidade, por exemplo.\n    public string NomeCategoria { get; set; } \n}\n'})}),"\n",(0,s.jsxs)(n.h2,{id:"por-que-separar-model-e-viewmodel",children:["Por que separar ",(0,s.jsx)(n.strong,{children:"Model"})," e ",(0,s.jsx)(n.strong,{children:"ViewModel"}),"?"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Model"}),(0,s.jsx)(n.th,{children:"ViewModel"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Reflete a entidade do dom\xednio / banco"}),(0,s.jsx)(n.td,{children:"Reflete os dados necess\xe1rios para a View"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Cont\xe9m l\xf3gica de neg\xf3cio e valida\xe7\xe3o"}),(0,s.jsx)(n.td,{children:"Cont\xe9m valida\xe7\xe3o de interface (DataAnnotations)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Usado em camada de servi\xe7o, dom\xednio, reposit\xf3rio"}),(0,s.jsx)(n.td,{children:"Usado exclusivamente pela camada de interface (View)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Al\xe9m de:"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Seguran\xe7a"}),": evitar expor entidades completas na View."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexibilidade"}),": a View pode precisar de dados agregados, formatados ou simplificados."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clareza"}),": cada classe tem uma \xfanica responsabilidade."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exemplo-pr\xe1tico-no-aspnet-mvc",children:"Exemplo pr\xe1tico no ASP.NET MVC"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"public class ProdutoController : Controller\n{\n    public IActionResult Detalhes(int id)\n    {\n        var produto = repositorioProduto.SelecionarPorId(id);\n\n        var viewModel = new ProdutoViewModel\n        {\n            Nome = produto.Nome,\n            Preco = produto.Preco,\n            CategoriaNome = produto.Categoria.Nome\n        };\n\n        return View(viewModel);\n    }\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>i});var r=o(6540);const s={},d=r.createContext(s);function a(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);