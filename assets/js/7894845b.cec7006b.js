"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6600],{7957:(e,a,i)=>{i.r(a),i.d(a,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>t,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Cronograma das Aulas/Semana 11/Aula 54/ViewModels de Equipamentos","title":"ViewModels de Equipamentos","description":"Introdu\xe7\xe3o","source":"@site/docs/Cronograma das Aulas/Semana 11/Aula 54/01. ViewModels de Equipamentos.mdx","sourceDirName":"Cronograma das Aulas/Semana 11/Aula 54","slug":"/Cronograma das Aulas/Semana 11/Aula 54/ViewModels de Equipamentos","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 54/ViewModels de Equipamentos","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Aplica\xe7\xe3o de ViewModels","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 52/Aplica\xe7\xe3o de ViewModels"},"next":{"title":"M\xe9todos de Extens\xe3o de Equipamentos","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 54/M\xe9todos de Extens\xe3o de Equipamentos"}}');var r=i(4848),o=i(8453);const t={},s=void 0,d={},c=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"ViewModels de Equipamento",id:"viewmodels-de-equipamento",level:2},{value:"<code>FormularioEquipamentoViewModel</code> e <code>SelecionarFabricanteViewModel</code>",id:"formularioequipamentoviewmodel-e-selecionarfabricanteviewmodel",level:3},{value:"<code>CadastrarEquipamentoViewModel</code> e <code>EditarEquipamentoViewModel</code>",id:"cadastrarequipamentoviewmodel-e-editarequipamentoviewmodel",level:3},{value:"<code>ExcluirEquipamentoViewModel</code>",id:"excluirequipamentoviewmodel",level:3},{value:"<code>VisualizarEquipamentosViewModel</code> e <code>DetalhesEquipamentoViewModel</code>",id:"visualizarequipamentosviewmodel-e-detalhesequipamentoviewmodel",level:3}];function l(e){const a={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,r.jsx)(a.p,{children:"Agora, iremos aplicar o conceito de ViewModels para o m\xf3dulo de Equipamentos."}),"\n",(0,r.jsx)(a.h2,{id:"viewmodels-de-equipamento",children:"ViewModels de Equipamento"}),"\n",(0,r.jsxs)(a.h3,{id:"formularioequipamentoviewmodel-e-selecionarfabricanteviewmodel",children:[(0,r.jsx)(a.code,{children:"FormularioEquipamentoViewModel"})," e ",(0,r.jsx)(a.code,{children:"SelecionarFabricanteViewModel"})]}),"\n",(0,r.jsxs)(a.p,{children:["A classe base para formul\xe1rios ir\xe1 conter ",(0,r.jsx)(a.code,{children:"Nome"}),", ",(0,r.jsx)(a.code,{children:"PrecoAquisicao"})," e ",(0,r.jsx)(a.code,{children:"FabricanteId"}),"."]}),"\n",(0,r.jsx)(a.p,{children:"Al\xe9m disso, ser\xe1 necess\xe1rio tamb\xe9m conter uma lista de fabricantes dispon\xedveis para sele\xe7\xe3o durante o cadastro."}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-cs",metastring:'title="EquipamentoViewModels.cs"',children:"namespace GestaoDeEquipamentos.ConsoleApp.Models;\r\n\r\npublic abstract class FormularioEquipamentoViewModel\r\n{\r\n    public string Nome { get; set; }\r\n    public decimal PrecoAquisicao { get; set; }\r\n    public DateTime DataFabricacao { get; set; }\r\n    public List<SelecionarFabricanteViewModel> FabricantesDisponiveis { get; set; } =\r\n        new List<SelecionarFabricanteViewModel>();\r\n\r\n    public int FabricanteId { get; set; }\r\n}\r\n\r\npublic class SelecionarFabricanteViewModel\r\n{\r\n    public int Id { get; set; }\r\n    public string Nome { get; set; }\r\n\r\n    public SelecionarFabricanteViewModel(int id, string nome)\r\n    {\r\n        Id = id;\r\n        Nome = nome;\r\n    }\r\n}\n"})}),"\n",(0,r.jsxs)(a.h3,{id:"cadastrarequipamentoviewmodel-e-editarequipamentoviewmodel",children:[(0,r.jsx)(a.code,{children:"CadastrarEquipamentoViewModel"})," e ",(0,r.jsx)(a.code,{children:"EditarEquipamentoViewModel"})]}),"\n",(0,r.jsxs)(a.p,{children:["O construtor do ",(0,r.jsx)(a.code,{children:"CadastrarEquipamentoViewModel"})," ser\xe1 o respons\xe1vel por mapear e preencher a lista de fabricantes para ViewModels adequados..."]}),"\n",(0,r.jsxs)(a.p,{children:["Al\xe9m das informa\xe7\xf5es b\xe1sicas \u2014 o construtor do ",(0,r.jsx)(a.code,{children:"EditarEquipamentoViewModel"})," tamb\xe9m dever\xe1 mapear e preencher a lista de fabricantes dispon\xedveis."]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-cs",metastring:'title="EquipamentoViewModels.cs"',children:"public class CadastrarEquipamentoViewModel : FormularioEquipamentoViewModel\r\n{\r\n    public CadastrarEquipamentoViewModel() { }\r\n\r\n    public CadastrarEquipamentoViewModel(List<Fabricante> fabricantes)\r\n    {\r\n        foreach (var fabricante in fabricantes)\r\n        {\r\n            var selecionarFabricanteVM =\r\n                new SelecionarFabricanteViewModel(fabricante.Id, fabricante.Nome);\r\n\r\n            FabricantesDisponiveis.Add(selecionarFabricanteVM);\r\n        }\r\n    }\r\n}\r\n\r\npublic class EditarEquipamentoViewModel : FormularioEquipamentoViewModel\r\n{\r\n    public int Id { get; set; }\r\n\r\n    public EditarEquipamentoViewModel() { }\r\n\r\n    public EditarEquipamentoViewModel(\r\n        int id,\r\n        string nome,\r\n        decimal precoAquisicao,\r\n        DateTime dataFabricacao,\r\n        int fabricanteId,\r\n        List<Fabricante> fabricantes\r\n    ) : this()\r\n    {\r\n        Id = id;\r\n        Nome = nome;\r\n        PrecoAquisicao = precoAquisicao;\r\n        DataFabricacao = dataFabricacao;\r\n        FabricanteId = fabricanteId;\r\n\r\n        foreach (var fabricante in fabricantes)\r\n        {\r\n            var selecionarFabricanteVM =\r\n                new SelecionarFabricanteViewModel(fabricante.Id, fabricante.Nome);\r\n\r\n            FabricantesDisponiveis.Add(selecionarFabricanteVM);\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,r.jsx)(a.h3,{id:"excluirequipamentoviewmodel",children:(0,r.jsx)(a.code,{children:"ExcluirEquipamentoViewModel"})}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-cs",metastring:'title="EquipamentoViewModels.cs"',children:"public class ExcluirEquipamentoViewModel\r\n{\r\n    public int Id { get; set; }\r\n    public string Nome { get; set; }\r\n\r\n    public ExcluirEquipamentoViewModel() { }\r\n\r\n    public ExcluirEquipamentoViewModel(int id, string nome) : this()\r\n    {\r\n        Id = id;\r\n        Nome = nome;\r\n    }\r\n}\n"})}),"\n",(0,r.jsxs)(a.h3,{id:"visualizarequipamentosviewmodel-e-detalhesequipamentoviewmodel",children:[(0,r.jsx)(a.code,{children:"VisualizarEquipamentosViewModel"})," e ",(0,r.jsx)(a.code,{children:"DetalhesEquipamentoViewModel"})]}),"\n",(0,r.jsxs)(a.p,{children:["O ",(0,r.jsx)(a.code,{children:"VisualizarEquipamentosViewModel"})," ir\xe1 utilizar o m\xe9todo de extens\xe3o ",(0,r.jsx)(a.code,{children:"Equipamento.ParaDetalhesVM()"})," para mapear apenas os detalhes importantes da lista de equipamentos sendo recebida pelo cosntrutor."]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-cs",metastring:'title="EquipamentoViewModels.cs"',children:'public class VisualizarEquipamentosViewModel\r\n{\r\n    public List<DetalhesEquipamentoViewModel> Registros { get; } = new List<DetalhesEquipamentoViewModel>();\r\n\r\n    public VisualizarEquipamentosViewModel(List<Equipamento> equipamentos)\r\n    {\r\n        foreach (var e in equipamentos)\r\n        {\r\n            var detalhesVM = e.ParaDetalhesVM();\r\n\r\n            Registros.Add(detalhesVM);\r\n        }\r\n    }\r\n}\r\n\r\npublic class DetalhesEquipamentoViewModel\r\n{\r\n    public int Id { get; set; }\r\n    public string Nome { get; set; }\r\n    public decimal PrecoAquisicao { get; set; }\r\n    public DateTime DataFabricacao { get; set; }\r\n    public string NomeFabricante { get; set; }\r\n\r\n    public DetalhesEquipamentoViewModel(\r\n        int id,\r\n        string nome,\r\n        decimal precoAquisicao,\r\n        DateTime dataFabricacao,\r\n        string nomeFabricante\r\n    )\r\n    {\r\n        Id = id;\r\n        Nome = nome;\r\n        PrecoAquisicao = precoAquisicao;\r\n        DataFabricacao = dataFabricacao;\r\n        NomeFabricante = nomeFabricante;\r\n    }\r\n\r\n    public override string ToString()\r\n    {\r\n        return $"Id: {Id} - Nome: {Nome} - Fabricante: {NomeFabricante} - Pre\xe7o de Aquisi\xe7\xe3o: {PrecoAquisicao:C2} - Data de Fabrica\xe7\xe3o: {DataFabricacao:d}";\r\n    }\r\n}\n'})})]})}function u(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,a,i)=>{i.d(a,{R:()=>t,x:()=>s});var n=i(6540);const r={},o=n.createContext(r);function t(e){const a=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(o.Provider,{value:a},e.children)}}}]);