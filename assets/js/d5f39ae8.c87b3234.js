"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[190],{8272:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"Cronograma das Aulas/Semana 11/Aula 52/Aplica\xe7\xe3o de ViewModels","title":"Aplica\xe7\xe3o de ViewModels","description":"Introdu\xe7\xe3o","source":"@site/docs/Cronograma das Aulas/Semana 11/Aula 52/03. Aplica\xe7\xe3o de ViewModels.mdx","sourceDirName":"Cronograma das Aulas/Semana 11/Aula 52","slug":"/Cronograma das Aulas/Semana 11/Aula 52/Aplica\xe7\xe3o de ViewModels","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 52/Aplica\xe7\xe3o de ViewModels","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"M\xe9todos de Extens\xe3o do C-sharp","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 52/M\xe9todos de Extens\xe3o do C-sharp"},"next":{"title":"ViewModels de Equipamentos","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 54/ViewModels de Equipamentos"}}');var i=a(4848),o=a(8453);const s={},d=void 0,l={},t=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"ViewModels Compartilhados",id:"viewmodels-compartilhados",level:2},{value:"<code>NotificacaoViewModel</code>",id:"notificacaoviewmodel",level:3},{value:"Fun\xe7\xe3o:",id:"fun\xe7\xe3o",level:2},{value:"ViewModels de Fabricante",id:"viewmodels-de-fabricante",level:2},{value:"<code>FormularioFabricanteViewModel</code>",id:"formulariofabricanteviewmodel",level:3},{value:"Fun\xe7\xe3o:",id:"fun\xe7\xe3o-1",level:4},{value:"\ud83d\udea9 Usado como <strong>base de heran\xe7a</strong> por:",id:"-usado-como-base-de-heran\xe7a-por",level:4},{value:"<code>CadastrarFabricanteViewModel</code>",id:"cadastrarfabricanteviewmodel",level:3},{value:"Fun\xe7\xe3o:",id:"fun\xe7\xe3o-2",level:4},{value:"\ud83d\udd17 Usado em:",id:"-usado-em",level:4},{value:"<code>EditarFabricanteViewModel</code>",id:"editarfabricanteviewmodel",level:3},{value:"Fun\xe7\xe3o:",id:"fun\xe7\xe3o-3",level:4},{value:"\ud83d\udd17 Usado em:",id:"-usado-em-1",level:4},{value:"<code>ExcluirFabricanteViewModel</code>",id:"excluirfabricanteviewmodel",level:3},{value:"Fun\xe7\xe3o:",id:"fun\xe7\xe3o-4",level:4},{value:"\ud83d\udd17 Usado em:",id:"-usado-em-2",level:4},{value:"<code>VisualizarFabricantesViewModel</code>",id:"visualizarfabricantesviewmodel",level:3},{value:"Fun\xe7\xe3o:",id:"fun\xe7\xe3o-5",level:4},{value:"\ud83d\udd17 Usado em:",id:"-usado-em-3",level:4},{value:"<code>DetalhesFabricanteViewModel</code>",id:"detalhesfabricanteviewmodel",level:3},{value:"Fun\xe7\xe3o:",id:"fun\xe7\xe3o-6",level:4},{value:"Resumo dos ViewModels de Fabricante",id:"resumo-dos-viewmodels-de-fabricante",level:2},{value:"Como os ViewModels est\xe3o sendo usados em cada caso",id:"como-os-viewmodels-est\xe3o-sendo-usados-em-cada-caso",level:2},{value:"1. <code>CadastrarFabricanteViewModel</code>",id:"1-cadastrarfabricanteviewmodel",level:3},{value:"2. <code>EditarFabricanteViewModel</code>",id:"2-editarfabricanteviewmodel",level:3},{value:"3. <code>ExcluirFabricanteViewModel</code>",id:"3-excluirfabricanteviewmodel",level:3},{value:"4. <strong>VisualizarFabricantesViewModel</strong>",id:"4-visualizarfabricantesviewmodel",level:3},{value:"Modelo da <code>Notificacao.cshtml</code>",id:"modelo-da-notificacaocshtml",level:3},{value:"Por que isso \xe9 importante?",id:"por-que-isso-\xe9-importante",level:2}];function c(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,i.jsxs)(n.p,{children:["Agora, iremos aplicar o conceito de ViewModels na aplica\xe7\xe3o ",(0,i.jsx)(n.strong,{children:"Gest\xe3o de Equipamentos."})]}),"\n",(0,i.jsxs)(n.p,{children:["No ",(0,i.jsx)(n.strong,{children:"m\xf3dulo Fabricante"}),", para cada opera\xe7\xe3o CRUD relacionada ao mesmo, iremos especificar um ViewModel:"]}),"\n",(0,i.jsx)(n.h2,{id:"viewmodels-compartilhados",children:"ViewModels Compartilhados"}),"\n",(0,i.jsx)(n.h3,{id:"notificacaoviewmodel",children:(0,i.jsx)(n.code,{children:"NotificacaoViewModel"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"public class NotificacaoViewModel\r\n{\r\n    public string TituloPagina { get; set; }\r\n    public string Mensagem { get; set; }\r\n\r\n    public NotificacaoViewModel(string tituloPagina, string mensagem)\r\n    {\r\n        TituloPagina = tituloPagina;\r\n        Mensagem = mensagem;\r\n    }\r\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"fun\xe7\xe3o",children:"Fun\xe7\xe3o:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ViewModel gen\xe9rico para notifica\xe7\xf5es"})," para todos as a\xe7\xf5es dos controladores."]}),"\n",(0,i.jsxs)(n.li,{children:["Centraliza a passagem de mensagem para a View ",(0,i.jsx)(n.code,{children:"Notificacao.cshtml"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"viewmodels-de-fabricante",children:"ViewModels de Fabricante"}),"\n",(0,i.jsx)(n.h3,{id:"formulariofabricanteviewmodel",children:(0,i.jsx)(n.code,{children:"FormularioFabricanteViewModel"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"public abstract class FormularioFabricanteViewModel\r\n{\r\n    public abstract string TituloPagina { get; }\r\n    public string Nome { get; set; }\r\n    public string Email { get; set; }\r\n    public string Telefone { get; set; }\r\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"fun\xe7\xe3o-1",children:"Fun\xe7\xe3o:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ViewModel base gen\xe9rico"})," para formul\xe1rios de ",(0,i.jsx)(n.strong,{children:"Cadastro"})," e ",(0,i.jsx)(n.strong,{children:"Edi\xe7\xe3o"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Centraliza propriedades comuns (",(0,i.jsx)(n.code,{children:"Nome"}),", ",(0,i.jsx)(n.code,{children:"Email"}),", ",(0,i.jsx)(n.code,{children:"Telefone"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Possui ",(0,i.jsx)(n.code,{children:"TituloPagina"})," abstrato, que ser\xe1 implementado de maneira diferente por cada classe derivada."]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"-usado-como-base-de-heran\xe7a-por",children:["\ud83d\udea9 Usado como ",(0,i.jsx)(n.strong,{children:"base de heran\xe7a"})," por:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"CadastrarFabricanteViewModel"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"EditarFabricanteViewModel"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"cadastrarfabricanteviewmodel",children:(0,i.jsx)(n.code,{children:"CadastrarFabricanteViewModel"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'public class CadastrarFabricanteViewModel : FormularioFabricanteViewModel\r\n{\r\n    public override string TituloPagina { get; } = "Cadastro de Fabricantes";\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"fun\xe7\xe3o-2",children:"Fun\xe7\xe3o:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Especializa\xe7\xe3o para o formul\xe1rio de ",(0,i.jsx)(n.strong,{children:"Cadastro"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Apenas define o t\xedtulo da p\xe1gina."}),"\n",(0,i.jsx)(n.li,{children:"Utiliza as propriedades herdadas para capturar os dados do novo fabricante."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"-usado-em",children:"\ud83d\udd17 Usado em:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Cadastrar"})," (GET/POST)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"editarfabricanteviewmodel",children:(0,i.jsx)(n.code,{children:"EditarFabricanteViewModel"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'public class EditarFabricanteViewModel : FormularioFabricanteViewModel\r\n{\r\n    public override string TituloPagina { get; } = "Edi\xe7\xe3o de Fabricantes";\r\n\r\n    public int Id { get; set; }\r\n\r\n    public EditarFabricanteViewModel(int id, string nome, string email, string telefone)\r\n    {\r\n        Id = id;\r\n        Nome = nome;\r\n        Email = email;\r\n        Telefone = telefone;\r\n    }\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"fun\xe7\xe3o-3",children:"Fun\xe7\xe3o:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Especializa\xe7\xe3o para o formul\xe1rio de ",(0,i.jsx)(n.strong,{children:"Edi\xe7\xe3o"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Inicializa o ViewModel com dados existentes (",(0,i.jsx)(n.code,{children:"Nome"}),", ",(0,i.jsx)(n.code,{children:"Email"}),", ",(0,i.jsx)(n.code,{children:"Telefone"}),")."]}),"\n",(0,i.jsx)(n.li,{children:"Cont\xe9m um Id utilizado para edi\xe7\xe3o"}),"\n",(0,i.jsx)(n.li,{children:"Define t\xedtulo pr\xf3prio."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"-usado-em-1",children:"\ud83d\udd17 Usado em:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Editar"})," (GET/POST)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"excluirfabricanteviewmodel",children:(0,i.jsx)(n.code,{children:"ExcluirFabricanteViewModel"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'public class ExcluirFabricanteViewModel\r\n{\r\n    public string TituloPagina { get; } = "Exclus\xe3o de Fabricantes";\r\n    public int Id { get; set; }\r\n    public string Nome { get; set; }\r\n\r\n    public ExcluirFabricanteViewModel(int id, string nome)\r\n    {\r\n        Id = id;\r\n        Nome = nome;\r\n    }\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"fun\xe7\xe3o-4",children:"Fun\xe7\xe3o:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["ViewModel enxuto usado apenas para ",(0,i.jsx)(n.strong,{children:"confirmar exclus\xe3o"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Cont\xe9m o ",(0,i.jsx)(n.code,{children:"Id"})," e o ",(0,i.jsx)(n.code,{children:"Nome"})," do fabricante para apresentar ao usu\xe1rio."]}),"\n",(0,i.jsx)(n.li,{children:"T\xedtulo da p\xe1gina de confirma\xe7\xe3o."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"-usado-em-2",children:"\ud83d\udd17 Usado em:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Excluir"})," (GET)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"visualizarfabricantesviewmodel",children:(0,i.jsx)(n.code,{children:"VisualizarFabricantesViewModel"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'public class VisualizarFabricantesViewModel\r\n{\r\n    public string TituloPagina { get; } = "Visualiza\xe7\xe3o de Fabricantes";\r\n\r\n    public List<DetalhesFabricanteViewModel> Registros { get; } = new List<DetalhesFabricanteViewModel>();\r\n\r\n    public VisualizarFabricantesViewModel(List<Fabricante> fabricantes)\r\n    {\r\n        foreach (Fabricante fabricante in fabricantes)\r\n        {\r\n            DetalhesFabricanteViewModel detalhesVM = fabricante.ParaDetalhesFabricanteViewModel();\r\n            Registros.Add(detalhesVM);\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"fun\xe7\xe3o-5",children:"Fun\xe7\xe3o:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Encapsula uma ",(0,i.jsx)(n.strong,{children:"lista de fabricantes formatados para exibi\xe7\xe3o"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Converte entidades ",(0,i.jsx)(n.code,{children:"Fabricante"})," em ",(0,i.jsx)(n.code,{children:"DetalhesFabricanteViewModel"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Define um t\xedtulo para a p\xe1gina de visualiza\xe7\xe3o."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"-usado-em-3",children:"\ud83d\udd17 Usado em:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Visualizar"})," (GET)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"detalhesfabricanteviewmodel",children:(0,i.jsx)(n.code,{children:"DetalhesFabricanteViewModel"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'public class DetalhesFabricanteViewModel\r\n{\r\n    public int Id { get; set; }\r\n    public string Nome { get; set; }\r\n    public string Email { get; set; }\r\n    public string Telefone { get; set; }\r\n\r\n    public DetalhesFabricanteViewModel(int id, string nome, string email, string telefone)\r\n    {\r\n        Id = id;\r\n        Nome = nome;\r\n        Email = email;\r\n        Telefone = telefone;\r\n    }\r\n\r\n    public override string ToString()\r\n    {\r\n        return $"Id: {Id}, Nome: {Nome}, Email: {Email}, Telefone: {Telefone}";\r\n    }\r\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"fun\xe7\xe3o-6",children:"Fun\xe7\xe3o:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ViewModel detalhado de fabricante individual"}),", usado principalmente dentro do ",(0,i.jsx)(n.code,{children:"VisualizarFabricantesViewModel"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Facilita exibir as informa\xe7\xf5es completas de cada fabricante em tabelas, cards, etc."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"resumo-dos-viewmodels-de-fabricante",children:"Resumo dos ViewModels de Fabricante"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"ViewModel"}),(0,i.jsx)(n.th,{children:"Finalidade"}),(0,i.jsx)(n.th,{children:"Tela/A\xe7\xe3o"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FormularioFabricanteViewModel"}),(0,i.jsx)(n.td,{children:"Base comum para formul\xe1rios (Nome, Email, Tel)"}),(0,i.jsx)(n.td,{children:"Base para Cadastro/Edi\xe7\xe3o"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"CadastrarFabricanteViewModel"}),(0,i.jsx)(n.td,{children:"ViewModel de cadastro de fabricante"}),(0,i.jsx)(n.td,{children:"Cadastro (GET/POST)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"EditarFabricanteViewModel"}),(0,i.jsx)(n.td,{children:"ViewModel de edi\xe7\xe3o de fabricante"}),(0,i.jsx)(n.td,{children:"Edi\xe7\xe3o (GET/POST)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"ExcluirFabricanteViewModel"}),(0,i.jsx)(n.td,{children:"ViewModel para confirma\xe7\xe3o de exclus\xe3o"}),(0,i.jsx)(n.td,{children:"Exclus\xe3o (GET)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"VisualizarFabricantesViewModel"}),(0,i.jsx)(n.td,{children:"Lista de fabricantes prontos para exibi\xe7\xe3o"}),(0,i.jsx)(n.td,{children:"Visualiza\xe7\xe3o (GET)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"DetalhesFabricanteViewModel"}),(0,i.jsx)(n.td,{children:"Detalhamento de um fabricante (usado na lista)"}),(0,i.jsx)(n.td,{children:"Dentro da Visualiza\xe7\xe3o"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"como-os-viewmodels-est\xe3o-sendo-usados-em-cada-caso",children:"Como os ViewModels est\xe3o sendo usados em cada caso"}),"\n",(0,i.jsxs)(n.p,{children:["No nosso c\xf3digo c\xf3digo, iremos utilizar ",(0,i.jsx)(n.strong,{children:"ViewModels"})," como ",(0,i.jsx)(n.strong,{children:"camada intermedi\xe1ria entre o Controller e as Views"}),".",(0,i.jsx)(n.br,{}),"\n","Cada opera\xe7\xe3o (",(0,i.jsx)(n.code,{children:"Cadastrar"}),", ",(0,i.jsx)(n.code,{children:"Editar"}),", ",(0,i.jsx)(n.code,{children:"Excluir"}),", ",(0,i.jsx)(n.code,{children:"Visualizar"}),") tem seu pr\xf3prio ",(0,i.jsx)(n.strong,{children:"ViewModel especializado"}),", que serve para:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Organizar os dados necess\xe1rios para cada tela."}),"\n",(0,i.jsx)(n.li,{children:"Realizar valida\xe7\xf5es espec\xedficas de interface."}),"\n",(0,i.jsxs)(n.li,{children:["Traduzir entre a View e o ",(0,i.jsxs)(n.strong,{children:["Model real (",(0,i.jsx)(n.code,{children:"Fabricante"}),")"]}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"1-cadastrarfabricanteviewmodel",children:["1. ",(0,i.jsx)(n.code,{children:"CadastrarFabricanteViewModel"})]}),"\n",(0,i.jsxs)(n.p,{children:["Usado tanto no ",(0,i.jsx)(n.code,{children:"GET"})," quanto no ",(0,i.jsx)(n.code,{children:"POST"})," para cadastrar fabricantes."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["No ",(0,i.jsx)(n.code,{children:"GET"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["O Controller cria uma inst\xe2ncia vazia do ViewModel (",(0,i.jsx)(n.code,{children:"CadastrarFabricanteViewModel"}),") e envia para a View."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["No ",(0,i.jsx)(n.code,{children:"POST"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A View envia os dados preenchidos via ",(0,i.jsx)(n.code,{children:"CadastrarFabricanteViewModel"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["O Controller converte o ViewModel em um ",(0,i.jsxs)(n.strong,{children:["Model real (",(0,i.jsx)(n.code,{children:"Fabricante"}),")"]})," usando ",(0,i.jsx)(n.code,{children:"cadastrarVM.ParaEntidade()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["O Controller ent\xe3o usa o reposit\xf3rio para persistir o ",(0,i.jsx)(n.code,{children:"Fabricante"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2714 Aqui o ",(0,i.jsx)(n.strong,{children:"ViewModel protege o Model real"}),", expondo apenas os campos que a View precisa e permite valida\xe7\xf5es espec\xedficas de tela."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'[Route("fabricantes")]\r\npublic class ControladorFabricante : Controller\r\n{\r\n    [HttpGet("cadastrar")]\r\n    public IActionResult ExibirFormularioCadastroFabricante()\r\n    {\r\n        CadastrarFabricanteViewModel cadastrarVM = new CadastrarFabricanteViewModel();\r\n\r\n        return View("Cadastrar", cadastrarVM);\r\n    }\r\n\r\n    [HttpPost("cadastrar")]\r\n    public IActionResult CadastrarFabricante(CadastrarFabricanteViewModel cadastrarVM)\r\n    {\r\n        ContextoDados contextoDados = new ContextoDados(true);\r\n        IRepositorioFabricante repositorioFabricante = new RepositorioFabricanteEmArquivo(contextoDados);\r\n\r\n        Fabricante novoFabricante = cadastrarVM.ParaEntidade();\r\n\r\n        repositorioFabricante.CadastrarRegistro(novoFabricante);\r\n\r\n        NotificacaoViewModel notificacaoVM = new NotificacaoViewModel(\r\n            "Fabricante Cadastrado!",\r\n            $"O registro \\"{novoFabricante.Nome}\\" foi cadastrado com sucesso!"\r\n        );\r\n\r\n        return View("Notificacao", notificacaoVM);\r\n    }\r\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'@using GestaoDeEquipamentos.ConsoleApp.ViewModels\r\n@using GestaoDeEquipamentos.ConsoleApp.ViewModels.ControladorFabricante\r\n\r\n@model CadastrarFabricanteViewModel;\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset="utf-8" />\r\n    <title>Cadastro de Fabricante - Gest\xe3o de Equipamentos</title>\r\n</head>\r\n\r\n<body>\r\n    <h1>Gest\xe3o de Equipamentos</h1>\r\n\r\n    <hr />\r\n\r\n    <a href="/">P\xe1gina Inicial</a> /\r\n    <a href="/fabricantes/visualizar">Visualizar Fabricantes</a>\r\n\r\n    <hr />\r\n\r\n    <h3>@Model.TituloPagina</h3>\r\n\r\n    <form action="/fabricantes/cadastrar" method="post">\r\n        <label>Nome do Fabricante:</label>\r\n        <br />\r\n        <input type="text" name="Nome"/>\r\n\r\n        <br />\r\n\r\n        <label>Email do Fabricante:</label>\r\n        <br />\r\n        <input type="text" name="Email" />\r\n\r\n        <br />\r\n\r\n        <label>Telefone do Fabricante:</label>\r\n        <br />\r\n        <input type="text" name="Telefone" />\r\n        <hr />\r\n\r\n        <button type="submit">Gravar</button>\r\n    </form>\r\n</body>\r\n</html>\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"2-editarfabricanteviewmodel",children:["2. ",(0,i.jsx)(n.code,{children:"EditarFabricanteViewModel"})]}),"\n",(0,i.jsxs)(n.p,{children:["Usado tanto no ",(0,i.jsx)(n.code,{children:"GET"})," quanto no ",(0,i.jsx)(n.code,{children:"POST"})," para edi\xe7\xe3o."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["No ",(0,i.jsx)(n.code,{children:"GET"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["O Controller busca o ",(0,i.jsx)(n.code,{children:"Fabricante"})," no reposit\xf3rio."]}),"\n",(0,i.jsxs)(n.li,{children:["Cria um ",(0,i.jsx)(n.code,{children:"EditarFabricanteViewModel"})," com os dados do ",(0,i.jsx)(n.code,{children:"Fabricante"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Envia o ViewModel para a View."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["No ",(0,i.jsx)(n.code,{children:"POST"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Recebe os dados do ",(0,i.jsx)(n.code,{children:"EditarFabricanteViewModel"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Converte para ",(0,i.jsx)(n.code,{children:"Fabricante"})," via ",(0,i.jsx)(n.code,{children:"editarVM.ParaEntidade()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Atualiza o ",(0,i.jsx)(n.code,{children:"Fabricante"})," no reposit\xf3rio."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u2714 Novamente, o ViewModel permite que voc\xea exponha apenas o necess\xe1rio, sem a View manipular diretamente a entidade de dom\xednio."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'[Route("fabricantes")]\r\npublic class ControladorFabricante : Controller\r\n{\r\n    [HttpGet("editar/{id:int}")]\r\n    public IActionResult ExibirFormularioEdicaoFabricante([FromRoute] int id)\r\n    {\r\n        ContextoDados contextoDados = new ContextoDados(true);\r\n        IRepositorioFabricante repositorioFabricante = new RepositorioFabricanteEmArquivo(contextoDados);\r\n\r\n        Fabricante fabricanteSelecionado = repositorioFabricante.SelecionarRegistroPorId(id);\r\n\r\n        EditarFabricanteViewModel editarVM = new EditarFabricanteViewModel(\r\n            fabricanteSelecionado.Nome,\r\n            fabricanteSelecionado.Email,\r\n            fabricanteSelecionado.Telefone\r\n        );\r\n\r\n        return View("Editar", editarVM);\r\n    }\r\n\r\n    [HttpPost("editar/{id:int}")]\r\n    public IActionResult EditarFabricante([FromRoute] int id, EditarFabricanteViewModel editarVM)\r\n    {\r\n        ContextoDados contextoDados = new ContextoDados(true);\r\n        IRepositorioFabricante repositorioFabricante = new RepositorioFabricanteEmArquivo(contextoDados);\r\n\r\n        Fabricante fabricanteAtualizado = editarVM.ParaEntidade();\r\n\r\n        repositorioFabricante.EditarRegistro(id, fabricanteAtualizado);\r\n\r\n        NotificacaoViewModel notificacaoVM = new NotificacaoViewModel(\r\n            "Fabricante Editado!",\r\n            $"O registro \\"{fabricanteAtualizado.Nome}\\" foi editado com sucesso!"\r\n        );\r\n\r\n        return View("Notificacao", notificacaoVM);\r\n    }\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'@using GestaoDeEquipamentos.ConsoleApp.ModuloFabricante\r\n@using GestaoDeEquipamentos.ConsoleApp.ViewModels\r\n@using GestaoDeEquipamentos.ConsoleApp.ViewModels.ControladorFabricante\r\n\r\n@model EditarFabricanteViewModel;\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset="utf-8" />\r\n    <title>Edi\xe7\xe3o de Fabricante - Gest\xe3o de Equipamentos</title>\r\n</head>\r\n\r\n<body>\r\n    <h1>Gest\xe3o de Equipamentos</h1>\r\n\r\n    <hr />\r\n\r\n    <a href="/">P\xe1gina Inicial</a> /\r\n    <a href="/fabricantes/cadastrar">Cadastrar Novo Fabricante</a> /\r\n    <a href="/fabricantes/visualizar">Visualizar Fabricantes</a>\r\n\r\n    <hr />\r\n\r\n    <h3>@Model.TituloPagina</h3>\r\n\r\n    <form action="/fabricantes/editar/@Model.Id" method="post">\r\n        <label>Nome do Fabricante:</label>\r\n        <br />\r\n        <input type="text" name="Nome" value="@Model.Nome" />\r\n\r\n        <br />\r\n\r\n        <label>Email do Fabricante:</label>\r\n        <br />\r\n        <input type="text" name="Email" value="@Model.Email" />\r\n\r\n        <br />\r\n\r\n        <label>Telefone do Fabricante:</label>\r\n        <br />\r\n        <input type="text" name="Telefone" value="@Model.Telefone" />\r\n        <hr />\r\n\r\n        <button type="submit">Gravar</button>\r\n    </form>\r\n</body>\r\n</html>\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"3-excluirfabricanteviewmodel",children:["3. ",(0,i.jsx)(n.code,{children:"ExcluirFabricanteViewModel"})]}),"\n",(0,i.jsxs)(n.p,{children:["Usado no ",(0,i.jsx)(n.code,{children:"GET"})," para exibir confirma\xe7\xe3o de exclus\xe3o."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["O Controller busca o ",(0,i.jsx)(n.code,{children:"Fabricante"})," pelo ",(0,i.jsx)(n.code,{children:"id"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Cria um ",(0,i.jsx)(n.code,{children:"ExcluirFabricanteViewModel"})," contendo apenas o ",(0,i.jsx)(n.code,{children:"Id"})," e o ",(0,i.jsx)(n.code,{children:"Nome"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Envia esse ViewModel para a View de confirma\xe7\xe3o."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u2714 Isso evita expor toda a entidade, apenas os dados que a tela de exclus\xe3o precisa mostrar."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'[Route("fabricantes")]\r\npublic class ControladorFabricante : Controller\r\n{\r\n    [HttpGet("excluir/{id:int}")]\r\n    public IActionResult ExibirFormularioExclusaoFabricante([FromRoute] int id)\r\n    {\r\n        ContextoDados contextoDados = new ContextoDados(true);\r\n        IRepositorioFabricante repositorioFabricante = new RepositorioFabricanteEmArquivo(contextoDados);\r\n\r\n        Fabricante fabricanteSelecionado = repositorioFabricante.SelecionarRegistroPorId(id);\r\n\r\n        ExcluirFabricanteViewModel excluirVM = new ExcluirFabricanteViewModel(id, fabricanteSelecionado.Nome);\r\n\r\n        return View("Excluir", excluirVM);\r\n    }\r\n\r\n    [HttpPost("excluir/{id:int}")]\r\n    public IActionResult ExcluirFabricante([FromRoute] int id)\r\n    {\r\n        ContextoDados contextoDados = new ContextoDados(true);\r\n        IRepositorioFabricante repositorioFabricante = new RepositorioFabricanteEmArquivo(contextoDados);\r\n\r\n        repositorioFabricante.ExcluirRegistro(id);\r\n\r\n        NotificacaoViewModel notificacaoVM = new NotificacaoViewModel(\r\n            "Fabricante Exclu\xeddo!",\r\n            "O registro foi exclu\xeddo com sucesso!"\r\n        );\r\n\r\n        return View("Notificacao", notificacaoVM);\r\n    }\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'@using GestaoDeEquipamentos.ConsoleApp.ModuloFabricante\r\n@using GestaoDeEquipamentos.ConsoleApp.ViewModels\r\n@using GestaoDeEquipamentos.ConsoleApp.ViewModels.ControladorFabricante\r\n\r\n@model ExcluirFabricanteViewModel;\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset="utf-8" />\r\n    <title>Exclus\xe3o de Fabricante - Gest\xe3o de Equipamentos</title>\r\n</head>\r\n\r\n<body>\r\n    <h1>Gest\xe3o de Equipamentos</h1>\r\n\r\n    <hr />\r\n\r\n    <a href="/">P\xe1gina Inicial</a> /\r\n    <a href="/fabricantes/cadastrar">Cadastrar Novo Fabricante</a> /\r\n    <a href="/fabricantes/visualizar">Visualizar Fabricantes</a>\r\n\r\n    <hr />\r\n\r\n    <h3>Exclus\xe3o de Fabricante</h3>\r\n\r\n    <p>Voc\xea tem certeza que deseja excluir o registro "@Model.Nome"?</p>\r\n\r\n    <form action="/fabricantes/excluir/@Model.Id" method="post">\r\n        <button type="submit">Confirmar</button>\r\n        <a href="/fabricantes/visualizar">Voltar</a>\r\n    </form>\r\n</body>\r\n</html>\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"4-visualizarfabricantesviewmodel",children:["4. ",(0,i.jsx)(n.strong,{children:"VisualizarFabricantesViewModel"})]}),"\n",(0,i.jsxs)(n.p,{children:["Usado no ",(0,i.jsx)(n.code,{children:"GET"})," para exibir todos os fabricantes."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["O Controller busca todos os ",(0,i.jsx)(n.code,{children:"Fabricante"})," no reposit\xf3rio."]}),"\n",(0,i.jsxs)(n.li,{children:["Cria um ",(0,i.jsx)(n.code,{children:"VisualizarFabricantesViewModel"})," que encapsula a lista."]}),"\n",(0,i.jsx)(n.li,{children:"Envia o ViewModel para a View."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u2714 Permite que a View apenas enxergue a cole\xe7\xe3o j\xe1 organizada, podendo at\xe9 conter dados adicionais, como contagem ou mensagens."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'[Route("fabricantes")]\r\npublic class ControladorFabricante : Controller\r\n{\r\n    [HttpGet("visualizar")]\r\n    public IActionResult VisualizarFabricantes()\r\n    {\r\n        ContextoDados contextoDados = new ContextoDados(true);\r\n        IRepositorioFabricante repositorioFabricante = new RepositorioFabricanteEmArquivo(contextoDados);\r\n\r\n        List<Fabricante> fabricantes = repositorioFabricante.SelecionarRegistros();\r\n\r\n        VisualizarFabricantesViewModel visualizarVM = new VisualizarFabricantesViewModel(fabricantes);\r\n\r\n        return View("Visualizar", visualizarVM);\r\n    }\r\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'@using GestaoDeEquipamentos.ConsoleApp.ModuloFabricante\r\n@using GestaoDeEquipamentos.ConsoleApp.ViewModels\r\n@using GestaoDeEquipamentos.ConsoleApp.ViewModels.ControladorFabricante\r\n\r\n@model VisualizarFabricantesViewModel;\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset="utf-8" />\r\n    <title>Visualiza\xe7\xe3o de Fabricantes - Gest\xe3o de Equipamentos</title>\r\n</head>\r\n\r\n<body>\r\n    <h1>Gest\xe3o de Equipamentos</h1>\r\n\r\n    <hr />\r\n\r\n    <a href="/">P\xe1gina Inicial</a> /\r\n    <a href="/fabricantes/cadastrar">Cadastrar Novo Fabricante</a> /\r\n\r\n    <hr />\r\n\r\n    <h3>@Model.TituloPagina</h3>\r\n\r\n    <ul>\r\n        @foreach (DetalhesFabricanteViewModel f in Model.Registros)\r\n        {\r\n            <li>@f.ToString() / <a href="/fabricantes/editar/@f.Id">Editar</a> /\r\n                <a href="/fabricantes/excluir/@f.Id">Excluir</a></li>\r\n        }\r\n    </ul>\r\n</body>\r\n</html>\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"modelo-da-notificacaocshtml",children:["Modelo da ",(0,i.jsx)(n.code,{children:"Notificacao.cshtml"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'@using GestaoDeEquipamentos.ConsoleApp.ViewModels\r\n@using GestaoDeEquipamentos.ConsoleApp.ViewModels.Shared\r\n\r\n@model NotificacaoViewModel;\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset="utf-8" />\r\n    <title>@Model.TituloPagina - Gest\xe3o de Equipamentos</title>\r\n</head>\r\n\r\n<body>\r\n    <h1>Gest\xe3o de Equipamentos</h1>\r\n\r\n    <hr />\r\n\r\n    <a href="/">P\xe1gina Inicial</a> /\r\n\r\n    <hr />\r\n\r\n    <h3>@Model.TituloPagina</h3>\r\n\r\n    <p>@Model.Mensagem</p>\r\n</body>\r\n</html>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Usado em diversas a\xe7\xf5es (",(0,i.jsx)(n.code,{children:"Cadastrar"}),", ",(0,i.jsx)(n.code,{children:"Editar"}),", ",(0,i.jsx)(n.code,{children:"Excluir"}),") para mostrar mensagens amig\xe1veis de sucesso."]}),"\n",(0,i.jsx)(n.p,{children:"\u2714 Um ViewModel gen\xe9rico de feedback ao usu\xe1rio, evitando misturar l\xf3gica de dom\xednio com mensagens de interface."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"por-que-isso-\xe9-importante",children:"Por que isso \xe9 importante?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Seguran\xe7a"}),": evita que a View tenha acesso direto ao Model."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Organiza\xe7\xe3o"}),": cada tela tem seu ViewModel espec\xedfico com seus campos e valida\xe7\xf5es."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Desacoplamento"}),": facilita mudan\xe7as na interface sem impactar a camada de dom\xednio."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Responsabilidade \xfanica"}),": ViewModels cuidam da interface, Models cuidam do dom\xednio."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>d});var r=a(6540);const i={},o=r.createContext(i);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);