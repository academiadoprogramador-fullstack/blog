"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[9818],{5980:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>t,contentTitle:()=>d,default:()=>m,frontMatter:()=>i,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Cronograma das Aulas/Semana 06/Aula 28/Valida\xe7\xe3o de Entidades com Recurs\xe3o","title":"Valida\xe7\xe3o de Entidades com Recurs\xe3o","description":"Introdu\xe7\xe3o","source":"@site/docs/Cronograma das Aulas/Semana 06/Aula 28/01. Valida\xe7\xe3o de Entidades com Recurs\xe3o.mdx","sourceDirName":"Cronograma das Aulas/Semana 06/Aula 28","slug":"/Cronograma das Aulas/Semana 06/Aula 28/Valida\xe7\xe3o de Entidades com Recurs\xe3o","permalink":"/blog/docs/Cronograma das Aulas/Semana 06/Aula 28/Valida\xe7\xe3o de Entidades com Recurs\xe3o","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Aula 27","permalink":"/blog/docs/Cronograma das Aulas/Semana 06/Aula 27/"},"next":{"title":"Aula 29","permalink":"/blog/docs/Cronograma das Aulas/Semana 06/Aula 29/"}}');var a=o(4848),s=o(8453);const i={},d=void 0,t={},c=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Valida\xe7\xe3o",id:"valida\xe7\xe3o",level:2},{value:"M\xe9todo <code>Validar()</code>",id:"m\xe9todo-validar",level:3},{value:"Uso do m\xe9todo",id:"uso-do-m\xe9todo",level:3},{value:"Recurs\xe3o",id:"recurs\xe3o",level:2},{value:"Cuidados com recurs\xe3o",id:"cuidados-com-recurs\xe3o",level:3}];function l(e){const r={blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,a.jsxs)(r.p,{children:["A valida\xe7\xe3o serve para ",(0,a.jsx)(r.strong,{children:"garantir que os dados est\xe3o corretos, completos e em um formato esperado"})," antes de serem utilizados no sistema. Isso evita erros, falhas e at\xe9 poss\xedveis brechas de seguran\xe7a."]}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.strong,{children:"O que pode acontecer sem valida\xe7\xe3o?"})}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Salvar um ",(0,a.jsx)(r.strong,{children:"nome vazio"})," no banco de dados."]}),"\n",(0,a.jsxs)(r.li,{children:["Tentar enviar um ",(0,a.jsx)(r.strong,{children:"e-mail com endere\xe7o inv\xe1lido"}),"."]}),"\n",(0,a.jsx)(r.li,{children:"Armazenar um n\xfamero de telefone malformatado."}),"\n",(0,a.jsxs)(r.li,{children:["Aplica\xe7\xf5es podem ",(0,a.jsx)(r.strong,{children:"crashar"})," com dados inesperados."]}),"\n",(0,a.jsxs)(r.li,{children:["Usu\xe1rios mal-intencionados podem tentar ",(0,a.jsx)(r.strong,{children:"inserir dados perigosos"})," no sistema."]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"valida\xe7\xe3o",children:"Valida\xe7\xe3o"}),"\n",(0,a.jsxs)(r.h3,{id:"m\xe9todo-validar",children:["M\xe9todo ",(0,a.jsx)(r.code,{children:"Validar()"})]}),"\n",(0,a.jsxs)(r.p,{children:["Esse m\xe9todo verifica se os dados preenchidos no objeto ",(0,a.jsx)(r.code,{children:"Fabricante"})," est\xe3o corretos e completos. Caso encontre algum erro, ele retorna uma ",(0,a.jsx)(r.strong,{children:"string com as mensagens de erro"}),". Se tudo estiver certo, retorna uma ",(0,a.jsx)(r.strong,{children:"string vazia"}),"."]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-cs",children:'public class Fabricante\r\n{\r\n    public int Id;\r\n    public string Nome;\r\n    public string Email;\r\n    public string Telefone;\r\n    public Equipamento[] Equipamentos;\r\n    \r\n\t//...\r\n\r\n    public string Validar()\r\n    {\r\n        string erros = "";\r\n\r\n        if (string.IsNullOrWhiteSpace(Nome) || Nome.Length < 3)\r\n            erros += "O campo \'Nome\' \xe9 obrigat\xf3rio e precisa conter ao menos 3 caracteres.\\n";\r\n\r\n        if (string.IsNullOrWhiteSpace(Email))\r\n            erros += "O campo \'Email \xe9 obrigat\xf3rio.\\n";\r\n\r\n        else if (!MailAddress.TryCreate(Email, out _))\r\n            erros += "O campo \'Email\' est\xe1 em um formato inv\xe1lido.\\n";\r\n\r\n        if (string.IsNullOrWhiteSpace(Telefone))\r\n            erros += "O campo \'Telefone\' \xe9 obrigat\xf3rio.";\r\n\r\n        return erros;\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"uso-do-m\xe9todo",children:"Uso do m\xe9todo"}),"\n",(0,a.jsxs)(r.p,{children:["Durante o cadastro de um ",(0,a.jsx)(r.code,{children:"Fabricante"}),", antes de fazermos o registro do mesmo em nosso reposit\xf3rio, iremos utilizar o m\xe9todo ",(0,a.jsx)(r.code,{children:"Validar()"}),". Esse m\xe9todo devolve uma ",(0,a.jsx)(r.code,{children:"string"})," com as mensagens de erro, caso os dados estejam incorretos."]}),"\n",(0,a.jsxs)(r.p,{children:["Caso algum erro seja retornado, iremos chamar ",(0,a.jsx)(r.strong,{children:"recursivamente"})," o mesmo m\xe9todo ",(0,a.jsx)(r.code,{children:"CadastrarFabricante()"})," para dar ",(0,a.jsx)(r.strong,{children:"uma nova chance de cadastrar corretamente"}),"."]}),"\n",(0,a.jsx)(r.h2,{id:"recurs\xe3o",children:"Recurs\xe3o"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Recurs\xe3o"})," \xe9 quando uma fun\xe7\xe3o ",(0,a.jsx)(r.strong,{children:"chama ela mesma"})," para repetir um processo at\xe9 que uma ",(0,a.jsx)(r.strong,{children:"condi\xe7\xe3o de parada"})," seja atingida."]}),"\n",(0,a.jsxs)(r.blockquote,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.em,{children:"\xc9 como se o m\xe9todo dissesse:"}),(0,a.jsx)(r.br,{}),"\n","\u201cAinda n\xe3o terminei meu trabalho, vou me chamar de novo at\xe9 dar certo.\u201d"]}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-cs",children:'using GestaoEquipamentos.ConsoleApp.Compartilhado;\r\n\r\nnamespace GestaoEquipamentos.ConsoleApp.ModuloFabricante;\r\n\r\npublic class TelaFabricante\r\n{\r\n    public RepositorioFabricante repositorioFabricante;\r\n\r\n\t// ...\r\n\r\n    public void CadastrarFabricante()\r\n    {\r\n        ExibirCabecalho();\r\n\r\n        Console.WriteLine("Cadastrando Fabricante...");\r\n        Console.WriteLine("----------------------------------------");\r\n\r\n        Console.WriteLine();\r\n\r\n        Fabricante novoFabricante = ObterDadosFabricante();\r\n\r\n        string erros = novoFabricante.Validar();\r\n\r\n        if (erros.Length > 0)\r\n        {\r\n            Notificador.ExibirMensagem(erros, ConsoleColor.Red);\r\n\r\n            CadastrarFabricante();\r\n\r\n            return;\r\n        }\r\n\r\n        repositorioFabricante.CadastrarFabricante(novoFabricante);\r\n\r\n        Notificador.ExibirMensagem("O registro foi conclu\xeddo com sucesso!", ConsoleColor.Green);\r\n    }\r\n}\n'})}),"\n",(0,a.jsxs)(r.p,{children:["Se houver erros nos dados do fabricante, o m\xe9todo ",(0,a.jsx)(r.strong,{children:"chama ele mesmo"})," para ",(0,a.jsx)(r.strong,{children:"recome\xe7ar o processo"})," de cadastro. O ",(0,a.jsx)(r.code,{children:"return"})," logo em seguida serve para ",(0,a.jsx)(r.strong,{children:"encerrar a execu\xe7\xe3o atual"})," e evitar que o restante do c\xf3digo (o salvamento, por exemplo) seja executado."]}),"\n",(0,a.jsx)(r.h3,{id:"cuidados-com-recurs\xe3o",children:"Cuidados com recurs\xe3o"}),"\n",(0,a.jsx)(r.p,{children:"Apesar de funcionar bem aqui, o uso da recurs\xe3o tem que ser cuidadoso:"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Se o usu\xe1rio errar muitas vezes, o m\xe9todo vai se empilhando na mem\xf3ria."}),"\n",(0,a.jsxs)(r.li,{children:["Isso pode causar um ",(0,a.jsx)(r.strong,{children:"estouro de pilha (stack overflow)"})," em programas maiores."]}),"\n"]})]})}function m(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,r,o)=>{o.d(r,{R:()=>i,x:()=>d});var n=o(6540);const a={},s=n.createContext(a);function i(e){const r=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);