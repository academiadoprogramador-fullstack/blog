"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4249],{6806:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>t,contentTitle:()=>d,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Cronograma das Aulas/Semana 06/Aula 28/Valida\xe7\xe3o de Entidades com Recurs\xe3o","title":"Valida\xe7\xe3o de Entidades com Recurs\xe3o","description":"Introdu\xe7\xe3o","source":"@site/docs/Cronograma das Aulas/Semana 06/Aula 28/01. Valida\xe7\xe3o de Entidades com Recurs\xe3o.md","sourceDirName":"Cronograma das Aulas/Semana 06/Aula 28","slug":"/Cronograma das Aulas/Semana 06/Aula 28/Valida\xe7\xe3o de Entidades com Recurs\xe3o","permalink":"/blog/docs/Cronograma das Aulas/Semana 06/Aula 28/Valida\xe7\xe3o de Entidades com Recurs\xe3o","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Cronograma das Aulas/Semana 06/Aula 28/01. Valida\xe7\xe3o de Entidades com Recurs\xe3o.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Aula 28","permalink":"/blog/docs/Cronograma das Aulas/Semana 06/Aula 28/"},"next":{"title":"Semana 09","permalink":"/blog/docs/Cronograma das Aulas/Semana 09/"}}');var n=a(4848),s=a(8453);const i={},d=void 0,t={},c=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Valida\xe7\xe3o",id:"valida\xe7\xe3o",level:2},{value:"M\xe9todo <code>Validar()</code>",id:"m\xe9todo-validar",level:3},{value:"Uso do m\xe9todo",id:"uso-do-m\xe9todo",level:3},{value:"Recurs\xe3o",id:"recurs\xe3o",level:2},{value:"Cuidados com recurs\xe3o",id:"cuidados-com-recurs\xe3o",level:3}];function l(e){const o={blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,n.jsxs)(o.p,{children:["A valida\xe7\xe3o serve para ",(0,n.jsx)(o.strong,{children:"garantir que os dados est\xe3o corretos, completos e em um formato esperado"})," antes de serem utilizados no sistema. Isso evita erros, falhas e at\xe9 poss\xedveis brechas de seguran\xe7a."]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"O que pode acontecer sem valida\xe7\xe3o?"})}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Salvar um ",(0,n.jsx)(o.strong,{children:"nome vazio"})," no banco de dados."]}),"\n",(0,n.jsxs)(o.li,{children:["Tentar enviar um ",(0,n.jsx)(o.strong,{children:"e-mail com endere\xe7o inv\xe1lido"}),"."]}),"\n",(0,n.jsx)(o.li,{children:"Armazenar um n\xfamero de telefone malformatado."}),"\n",(0,n.jsxs)(o.li,{children:["Aplica\xe7\xf5es podem ",(0,n.jsx)(o.strong,{children:"crashar"})," com dados inesperados."]}),"\n",(0,n.jsxs)(o.li,{children:["Usu\xe1rios mal-intencionados podem tentar ",(0,n.jsx)(o.strong,{children:"inserir dados perigosos"})," no sistema."]}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"valida\xe7\xe3o",children:"Valida\xe7\xe3o"}),"\n",(0,n.jsxs)(o.h3,{id:"m\xe9todo-validar",children:["M\xe9todo ",(0,n.jsx)(o.code,{children:"Validar()"})]}),"\n",(0,n.jsxs)(o.p,{children:["Esse m\xe9todo verifica se os dados preenchidos no objeto ",(0,n.jsx)(o.code,{children:"Fabricante"})," est\xe3o corretos e completos. Caso encontre algum erro, ele retorna uma ",(0,n.jsx)(o.strong,{children:"string com as mensagens de erro"}),". Se tudo estiver certo, retorna uma ",(0,n.jsx)(o.strong,{children:"string vazia"}),"."]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-cs",children:'public class Fabricante\n{\n    public int Id;\n    public string Nome;\n    public string Email;\n    public string Telefone;\n    public Equipamento[] Equipamentos;\n    \n\t//...\n\n    public string Validar()\n    {\n        string erros = "";\n\n        if (string.IsNullOrWhiteSpace(Nome) || Nome.Length < 3)\n            erros += "O campo \'Nome\' \xe9 obrigat\xf3rio e precisa conter ao menos 3 caracteres.\\n";\n\n        if (string.IsNullOrWhiteSpace(Email))\n            erros += "O campo \'Email \xe9 obrigat\xf3rio.\\n";\n\n        else if (!MailAddress.TryCreate(Email, out _))\n            erros += "O campo \'Email\' est\xe1 em um formato inv\xe1lido.\\n";\n\n        if (string.IsNullOrWhiteSpace(Telefone))\n            erros += "O campo \'Telefone\' \xe9 obrigat\xf3rio.";\n\n        return erros;\n    }\n}\n'})}),"\n",(0,n.jsx)(o.h3,{id:"uso-do-m\xe9todo",children:"Uso do m\xe9todo"}),"\n",(0,n.jsxs)(o.p,{children:["Durante o cadastro de um ",(0,n.jsx)(o.code,{children:"Fabricante"}),", antes de fazermos o registro do mesmo em nosso reposit\xf3rio, iremos utilizar o m\xe9todo ",(0,n.jsx)(o.code,{children:"Validar()"}),". Esse m\xe9todo devolve uma ",(0,n.jsx)(o.code,{children:"string"})," com as mensagens de erro, caso os dados estejam incorretos."]}),"\n",(0,n.jsxs)(o.p,{children:["Caso algum erro seja retornado, iremos chamar ",(0,n.jsx)(o.strong,{children:"recursivamente"})," o mesmo m\xe9todo ",(0,n.jsx)(o.code,{children:"CadastrarFabricante()"})," para dar ",(0,n.jsx)(o.strong,{children:"uma nova chance de cadastrar corretamente"}),"."]}),"\n",(0,n.jsx)(o.h2,{id:"recurs\xe3o",children:"Recurs\xe3o"}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.strong,{children:"Recurs\xe3o"})," \xe9 quando uma fun\xe7\xe3o ",(0,n.jsx)(o.strong,{children:"chama ela mesma"})," para repetir um processo at\xe9 que uma ",(0,n.jsx)(o.strong,{children:"condi\xe7\xe3o de parada"})," seja atingida."]}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.em,{children:"\xc9 como se o m\xe9todo dissesse:"}),(0,n.jsx)(o.br,{}),"\n","\u201cAinda n\xe3o terminei meu trabalho, vou me chamar de novo at\xe9 dar certo.\u201d"]}),"\n"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-cs",children:'using GestaoEquipamentos.ConsoleApp.Compartilhado;\n\nnamespace GestaoEquipamentos.ConsoleApp.ModuloFabricante;\n\npublic class TelaFabricante\n{\n    public RepositorioFabricante repositorioFabricante;\n\n\t// ...\n\n    public void CadastrarFabricante()\n    {\n        ExibirCabecalho();\n\n        Console.WriteLine("Cadastrando Fabricante...");\n        Console.WriteLine("----------------------------------------");\n\n        Console.WriteLine();\n\n        Fabricante novoFabricante = ObterDadosFabricante();\n\n        string erros = novoFabricante.Validar();\n\n        if (erros.Length > 0)\n        {\n            Notificador.ExibirMensagem(erros, ConsoleColor.Red);\n\n            CadastrarFabricante();\n\n            return;\n        }\n\n        repositorioFabricante.CadastrarFabricante(novoFabricante);\n\n        Notificador.ExibirMensagem("O registro foi conclu\xeddo com sucesso!", ConsoleColor.Green);\n    }\n}\n'})}),"\n",(0,n.jsxs)(o.p,{children:["Se houver erros nos dados do fabricante, o m\xe9todo ",(0,n.jsx)(o.strong,{children:"chama ele mesmo"})," para ",(0,n.jsx)(o.strong,{children:"recome\xe7ar o processo"})," de cadastro. O ",(0,n.jsx)(o.code,{children:"return"})," logo em seguida serve para ",(0,n.jsx)(o.strong,{children:"encerrar a execu\xe7\xe3o atual"})," e evitar que o restante do c\xf3digo (o salvamento, por exemplo) seja executado."]}),"\n",(0,n.jsx)(o.h3,{id:"cuidados-com-recurs\xe3o",children:"Cuidados com recurs\xe3o"}),"\n",(0,n.jsx)(o.p,{children:"Apesar de funcionar bem aqui, o uso da recurs\xe3o tem que ser cuidadoso:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Se o usu\xe1rio errar muitas vezes, o m\xe9todo vai se empilhando na mem\xf3ria."}),"\n",(0,n.jsxs)(o.li,{children:["Isso pode causar um ",(0,n.jsx)(o.strong,{children:"estouro de pilha (stack overflow)"})," em programas maiores."]}),"\n"]})]})}function m(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453:(e,o,a)=>{a.d(o,{R:()=>i,x:()=>d});var r=a(6540);const n={},s=r.createContext(n);function i(e){const o=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),r.createElement(s.Provider,{value:o},e.children)}}}]);