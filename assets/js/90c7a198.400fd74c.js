"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[8007],{7310:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"Cronograma das Aulas/Semana 11/Aula 52/M\xe9todos de Extens\xe3o do C-sharp","title":"M\xe9todos de Extens\xe3o do C-sharp","description":"Introdu\xe7\xe3o","source":"@site/docs/Cronograma das Aulas/Semana 11/Aula 52/02. M\xe9todos de Extens\xe3o do C-sharp.mdx","sourceDirName":"Cronograma das Aulas/Semana 11/Aula 52","slug":"/Cronograma das Aulas/Semana 11/Aula 52/M\xe9todos de Extens\xe3o do C-sharp","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 52/M\xe9todos de Extens\xe3o do C-sharp","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ViewModels do ASP.NET MVC","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 52/ViewModels do ASP.NET MVC"},"next":{"title":"Aplica\xe7\xe3o de ViewModels","permalink":"/blog/docs/Cronograma das Aulas/Semana 11/Aula 52/Aplica\xe7\xe3o de ViewModels"}}');var r=n(4848),i=n(8453);const t={},d=void 0,a={},l=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Caracter\xedsticas principais",id:"caracter\xedsticas-principais",level:2},{value:"Exemplo b\xe1sico \u2014 Estendendo <code>string</code>",id:"exemplo-b\xe1sico--estendendo-string",level:2},{value:"Estendendo qualquer <code>List&lt;T&gt;</code>",id:"estendendo-qualquer-listt",level:2},{value:"Vantagens dos m\xe9todos de extens\xe3o",id:"vantagens-dos-m\xe9todos-de-extens\xe3o",level:2},{value:"Regras importantes:",id:"regras-importantes",level:2},{value:"Aplica\xe7\xf5es de M\xe9todos de Extens\xe3o no MVC",id:"aplica\xe7\xf5es-de-m\xe9todos-de-extens\xe3o-no-mvc",level:2},{value:"Solu\xe7\xe3o: M\xe9todos de Extens\xe3o",id:"solu\xe7\xe3o-m\xe9todos-de-extens\xe3o",level:4},{value:"Exemplo com Produto e ProdutoViewModel",id:"exemplo-com-produto-e-produtoviewmodel",level:3},{value:"M\xe9todos de Extens\xe3o para mapeamento",id:"m\xe9todos-de-extens\xe3o-para-mapeamento",level:3},{value:"Uso pr\xe1tico no Controller",id:"uso-pr\xe1tico-no-controller",level:3},{value:"Vantagens de utilizar m\xe9todos de extens\xe3o para mapeamento",id:"vantagens-de-utilizar-m\xe9todos-de-extens\xe3o-para-mapeamento",level:2}];function c(e){const s={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["M\xe9todos de Extens\xe3o (Extension Methods) s\xe3o m\xe9todos ",(0,r.jsx)(s.strong,{children:"est\xe1ticos"})," que permitem ",(0,r.jsx)(s.strong,{children:"adicionar novos comportamentos a tipos existentes"}),", sem precisar:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Herdar da classe"}),"\n",(0,r.jsx)(s.li,{children:"Alterar a classe original"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Utilizados especialmente para:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"Adicionar funcionalidades em classes fechadas ou de terceiros"})}),"\n",(0,r.jsxs)(s.li,{children:["Melhorar a legibilidade de c\xf3digo (estilo ",(0,r.jsx)(s.em,{children:"fluent API"}),")"]}),"\n",(0,r.jsx)(s.li,{children:"Manter c\xf3digo coeso e reutiliz\xe1vel"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"caracter\xedsticas-principais",children:"Caracter\xedsticas principais"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Definidos em uma ",(0,r.jsx)(s.strong,{children:"classe est\xe1tica"})]}),"\n",(0,r.jsxs)(s.li,{children:["S\xe3o ",(0,r.jsx)(s.strong,{children:"m\xe9todos est\xe1ticos"})]}),"\n",(0,r.jsxs)(s.li,{children:["Primeiro par\xe2metro tem a palavra-chave ",(0,r.jsx)(s.code,{children:"this"})," indicando o tipo a ser estendido"]}),"\n",(0,r.jsxs)(s.li,{children:["Chamados como se fossem ",(0,r.jsx)(s.strong,{children:"m\xe9todos de inst\xe2ncia"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"exemplo-b\xe1sico--estendendo-string",children:["Exemplo b\xe1sico \u2014 Estendendo ",(0,r.jsx)(s.code,{children:"string"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cs",children:"public static class StringExtensions\r\n{\r\n    public static bool EstaVaziaOuNula(this string texto)\r\n    {\r\n        return string.IsNullOrEmpty(texto);\r\n    }\r\n}\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Uso:"})}),"\n",(0,r.jsxs)(s.p,{children:["Apesar de ser um m\xe9todo est\xe1tico, voc\xea o chama ",(0,r.jsx)(s.strong,{children:"como se fosse da inst\xe2ncia"})," (",(0,r.jsx)(s.code,{children:"nome.EstaVaziaOuNula()"}),")."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cs",children:'string nome = "";\r\nbool resultado = nome.EstaVaziaOuNula(); // true\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"estendendo-qualquer-listt",children:["Estendendo qualquer ",(0,r.jsx)(s.code,{children:"List<T>"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cs",children:"public static class ListExtensions\r\n{\r\n    public static void ExibirItens<T>(this List<T> lista)\r\n    {\r\n        foreach (T item in lista)\r\n        {\r\n            Console.WriteLine(item);\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Uso:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cs",children:"var numeros = new List<int> { 1, 2, 3 };\r\nnumeros.ExibirItens();\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"vantagens-dos-m\xe9todos-de-extens\xe3o",children:"Vantagens dos m\xe9todos de extens\xe3o"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Legibilidade:"})," permite criar chamadas encadeadas ou mais naturais."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Reutiliza\xe7\xe3o:"})," c\xf3digo centralizado e reutiliz\xe1vel."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"N\xe3o intrusivo:"})," sem necessidade de alterar a classe original."]}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"Permite trabalhar com interfaces e tipos fechados."})}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"regras-importantes",children:"Regras importantes:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Regra"}),(0,r.jsx)(s.th,{children:"Exemplo"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["A classe que cont\xe9m deve ser ",(0,r.jsx)(s.code,{children:"static"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"public static class StringExtensions { ... }"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["O m\xe9todo deve ser ",(0,r.jsx)(s.code,{children:"static"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"public static bool EstaVaziaOuNula(this string s)"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["O primeiro par\xe2metro tem ",(0,r.jsx)(s.code,{children:"this"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"this string s"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Pode ter qualquer nome"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"EstaVaziaOuNula"}),", ",(0,r.jsx)(s.code,{children:"DiasAteHoje"}),", ",(0,r.jsx)(s.code,{children:"ExibirItens"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Pode ser usado em qualquer projeto"}),(0,r.jsx)(s.td,{children:"Basta importar o namespace da classe est\xe1tica"})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"aplica\xe7\xf5es-de-m\xe9todos-de-extens\xe3o-no-mvc",children:"Aplica\xe7\xf5es de M\xe9todos de Extens\xe3o no MVC"}),"\n",(0,r.jsxs)(s.p,{children:["No contexto de ",(0,r.jsx)(s.strong,{children:"MVC"}),", \xe9 muito comum precisar ",(0,r.jsx)(s.strong,{children:"converter dados de Models para ViewModels e vice-versa"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Normalmente voc\xea teria que fazer isso ",(0,r.jsx)(s.strong,{children:"manual em cada controller"}),", o que pode gerar:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"C\xf3digo repetitivo."}),"\n",(0,r.jsx)(s.li,{children:"Alta chance de erro humano."}),"\n",(0,r.jsx)(s.li,{children:"Dificuldade em manter padr\xf5es consistentes."}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"solu\xe7\xe3o-m\xe9todos-de-extens\xe3o",children:"Solu\xe7\xe3o: M\xe9todos de Extens\xe3o"}),"\n",(0,r.jsxs)(s.p,{children:["Utilizando ",(0,r.jsx)(s.strong,{children:"m\xe9todos de extens\xe3o"}),", voc\xea consegue criar m\xe9todos reutiliz\xe1veis e limpos para mapear Models em ViewModels e vice-versa."]}),"\n",(0,r.jsx)(s.p,{children:"Isso melhora:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"Reutiliza\xe7\xe3o"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"Legibilidade"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"Organiza\xe7\xe3o do c\xf3digo"})}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"exemplo-com-produto-e-produtoviewmodel",children:"Exemplo com Produto e ProdutoViewModel"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cs",children:"public class Produto\r\n{\r\n    public int Id { get; set; }\r\n    public string Nome { get; set; }\r\n    public decimal Preco { get; set; }\r\n    public Categoria Categoria { get; set; }\r\n}\r\n\r\npublic class Categoria\r\n{\r\n    public string Nome { get; set; }\r\n}\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cs",children:"public class ProdutoViewModel\r\n{\r\n    public int Id { get; set; }\r\n    public string Nome { get; set; }\r\n    public string PrecoFormatado { get; set; }\r\n    public string NomeCategoria { get; set; }\r\n}\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"m\xe9todos-de-extens\xe3o-para-mapeamento",children:"M\xe9todos de Extens\xe3o para mapeamento"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cs",children:'public static class ProdutoExtensions\r\n{\r\n    // Model -> ViewModel\r\n    public static ProdutoViewModel ParaViewModel(this Produto produto)\r\n    {\r\n        return new ProdutoViewModel\r\n        {\r\n            Id = produto.Id,\r\n            Nome = produto.Nome,\r\n            PrecoFormatado = produto.Preco.ToString("C2"), // R$ 1.000,00\r\n            NomeCategoria = produto.Categoria?.Nome\r\n        };\r\n    }\r\n\r\n    // ViewModel -> Model (Exemplo para POST ou PUT)\r\n    public static Produto ParaEntidade(this ProdutoViewModel viewModel)\r\n    {\r\n        return new Produto\r\n        {\r\n            Id = viewModel.Id,\r\n            Nome = viewModel.Nome,\r\n            Preco = decimal.Parse(viewModel.PrecoFormatado.Replace("R$", "").Trim()),\r\n            Categoria = new Categoria { Nome = viewModel.NomeCategoria }\r\n        };\r\n    }\r\n}\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"uso-pr\xe1tico-no-controller",children:"Uso pr\xe1tico no Controller"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cs",children:'public class ProdutoController : Controller\r\n{\r\n    public IActionResult Detalhes(int id)\r\n    {\r\n        var produto = repositorioProduto.SelecionarPorId(id);\r\n\r\n        var viewModel = produto.ParaViewModel();\r\n\r\n        return View(viewModel);\r\n    }\r\n\r\n    [HttpPost]\r\n    public IActionResult Editar(ProdutoViewModel viewModel)\r\n    {\r\n        var produto = viewModel.ParaEntidade();\r\n\r\n        repositorioProduto.Atualizar(produto);\r\n\r\n        return RedirectToAction("Index");\r\n    }\r\n}\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"vantagens-de-utilizar-m\xe9todos-de-extens\xe3o-para-mapeamento",children:"Vantagens de utilizar m\xe9todos de extens\xe3o para mapeamento"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Vantagem"}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\ud83d\udd01 Reutiliza\xe7\xe3o"}),(0,r.jsx)(s.td,{children:"Mapeamento centralizado, evitando c\xf3digo duplicado."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\ud83e\uddf9 Limpeza"}),(0,r.jsx)(s.td,{children:"C\xf3digo do controller mais limpo e focado na l\xf3gica."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\u2705 Consist\xeancia"}),(0,r.jsx)(s.td,{children:"Sempre o mesmo padr\xe3o em toda a aplica\xe7\xe3o."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"\ud83d\udee1 Seguran\xe7a"}),(0,r.jsx)(s.td,{children:"Evita que dados desnecess\xe1rios do Model sejam expostos."})]})]})]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>d});var o=n(6540);const r={},i=o.createContext(r);function t(e){const s=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(i.Provider,{value:s},e.children)}}}]);